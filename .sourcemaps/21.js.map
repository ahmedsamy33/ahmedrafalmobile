{"version":3,"sources":["../../src/pages/certified-translation/certified-translation.module.ts","../../src/pages/certified-translation/certified-translation.ts"],"names":[],"mappings":"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","file":"21.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CertifiedTranslationPage } from './certified-translation';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    CertifiedTranslationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CertifiedTranslationPage),\n    TranslateModule.forChild({})\n  ],\n})\nexport class CertifiedTranslationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/certified-translation/certified-translation.module.ts","import { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  ToastController,\n  LoadingController\n} from \"ionic-angular\";\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { SharedServiceProvider } from \"../../providers/shared-service/shared-service\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { FileChooser } from \"@ionic-native/file-chooser\";\nimport { File, FileEntry } from \"@ionic-native/file\";\n// import { FileTransfer } from \"@ionic-native/file-transfer\";\nimport { FilePath } from \"@ionic-native/file-path\";\nimport { UserprofileProvider } from \"../../providers/userprofile/userprofile\";\n// import { Camera } from \"@ionic-native/camera\";\n@IonicPage()\n@Component({\n  selector: \"page-certified-translation\",\n  templateUrl: \"certified-translation.html\"\n})\nexport class CertifiedTranslationPage {\n  private TypeOfTranslate: string = null;\n  private ToLang: string = null;\n  private ResponsibleOfRecieving: string = null;\n\n  private Others: string = null;\n  public pleaseWait: string = null;\n  certifiedForm: FormGroup;\n  public file2: string = \"\";\n\n  public picname2: string = \"\";\n\n  public imageBlob2: any;\n  public fileExtension: string = \"\";\n\n  public path2: string = \"\";\n  public arrayLang = [];\n  public arrayTypeLang = [];\n  constructor(\n    public navCtrl: NavController,\n    private builder: FormBuilder,\n    public toastCtrl: ToastController,\n    private SharedService: SharedServiceProvider,\n    private loading: LoadingController,\n    public translate: TranslateService,\n    // private camera: Camera,\n    // private FileTransfer: FileTransfer,\n    private file: File,\n    private filePath: FilePath,\n    private fileChooser: FileChooser, // public platform: Platform,\n    private userProfile: UserprofileProvider\n  ) {\n    this.certifiedForm = this.builder.group({\n      typeOfTranslate: [\"\", Validators.required],\n      toLang: [\"\", Validators.required],\n      responsibleOfRecieving: [\n        \"\",\n        [Validators.required, Validators.maxLength(120)]\n      ],\n      others: [\"\"]\n    });\n    this.translate.get([\"pleaseWait\"]).subscribe(res => {\n      this.pleaseWait = res.pleaseWait;\n    });\n    let langLocal = localStorage.getItem(\"lang\");\n    if (langLocal == \"english\") {\n      langLocal = \"English\";\n    } else {\n      langLocal = \"Arabic\";\n    }\n\n    this.userProfile.getPickListCCJ(\"Language\", langLocal).subscribe(\n      data => {\n        this.arrayLang = data;\n        this.ToLang = this.arrayLang[0].code;\n      },\n      error => {\n        console.log(error);\n      }\n    );\n    this.userProfile.getPickListCCJ(\"Translation_Type\", langLocal).subscribe(\n      data => {\n        this.arrayTypeLang = data;\n        this.TypeOfTranslate = this.arrayTypeLang[0].code;\n      },\n      error => {\n        console.log(error);\n      }\n    );\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad CertifiedTranslationPage\");\n  }\n\n  Certified() {\n    let loading = this.loading.create({\n      content: this.pleaseWait\n    });\n    loading.present();\n    this.SharedService.CertifiedService(\n      this.TypeOfTranslate,\n      this.ToLang,\n      this.ResponsibleOfRecieving,\n      this.Others,\n      this.fileExtension,\n      this.imageBlob2\n    ).subscribe(\n      data => {\n        this.navCtrl.pop();\n        loading.dismiss();\n      },\n      error => {\n        // console.log(JSON.parse(error._body));\n\n        // Username or Password incorrect\n        if (JSON.parse(error._body).errorCode == \"4001\") {\n          this.presentToast(JSON.parse(error._body).message);\n        } else if (JSON.parse(error._body).errorCode == \"4000\") {\n          this.presentToast(JSON.parse(error._body).message);\n        } else if (JSON.parse(error._body).errorCode == \"4005\") {\n          this.presentToast(JSON.parse(error._body).message);\n        }\n        loading.dismiss();\n      }\n    );\n  }\n  private presentToast(text) {\n    let toast = this.toastCtrl.create({\n      message: text,\n      duration: 3000,\n      cssClass: 'ErrorToast'\n    });\n    toast.present();\n  }\n\n  openFile() {\n    this.file2 = \"\";\n    // this.correctPath = '';\n    this.picname2 = \"\";\n    this.path2 = \"\";\n    this.fileChooser\n      .open()\n      .then(uri => {\n        this.file2 = uri;\n        this.uploadImage(2);\n\n        this.filePath.resolveNativePath(uri).then(filePath => {\n          let correctPath = filePath.substr(0, filePath.lastIndexOf(\"/\") + 1);\n          let currentName = filePath.substring(\n            filePath.lastIndexOf(\"/\") + 1,\n            filePath.length\n          );\n          this.picname2 = currentName;\n          // console.log(\"filePath : \", filePath);\n\n          // console.log(\"name : \", this.picname2);\n\n          this.path2 = filePath;\n          this.fileExtension = currentName.substr(\n            currentName.lastIndexOf(\".\") + 1\n          );\n          // this.correctPath = correctPath;\n        });\n      })\n      .catch(e => {\n        // console.log(e);\n        this.file2 = \"\";\n        // this.correctPath = '';\n        this.picname2 = \"\";\n        this.path2 = \"\";\n      });\n  }\n\n  // upload\n  public uploadImage(para) {\n    if (para == 2) {\n      this.file\n        .resolveLocalFilesystemUrl(this.file2)\n        .then(entry =>\n          (<FileEntry>entry).file(file => {\n            // console.log(\"file local \", file);\n\n            this.readfile2(file);\n          })\n        )\n        .catch(err => this.presentToast(\"err \" + err));\n    }\n  }\n\n  // read form mobile2\n  public readfile2(file: any) {\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const imgBlob = new Blob([reader.result], { type: file.type });\n      this.imageBlob2 = imgBlob;\n    };\n    reader.readAsArrayBuffer(file);\n  }\n  hasError(field: string, error: string) {\n    const ctrl = this.certifiedForm.get(field);\n\n    return (ctrl.dirty || ctrl.touched) && ctrl.hasError(error);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/certified-translation/certified-translation.ts"],"sourceRoot":""}