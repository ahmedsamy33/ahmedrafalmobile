{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { LoginPage } from \"./login\";\nimport { TranslateModule } from \"@ngx-translate/core\";\n\n@NgModule({\n  declarations: [LoginPage],\n  imports: [IonicPageModule.forChild(LoginPage), TranslateModule]\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { AuthentionServiceProvider } from \"./../../providers/authention-service/authention-service\";\nimport { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  ToastController,\n  LoadingController\n} from \"ionic-angular\";\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { sessionData } from \"../../app/session-data\";\nimport { MyApp } from \"../../app/app.component\";\nimport { settings } from \"../../app/settings\";\nimport { Device } from \"@ionic-native/device\";\n/**\n * Generated class for the LoginPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-login\",\n  templateUrl: \"login.html\"\n})\nexport class LoginPage {\n  private Password: string = null;\n  private passwordTypeStyle: string;\n\n  private phoneNumber: string = null;\n  public pleaseWait: string = null;\n\n  public getcountriescodes = [];\n  public countryPhoneCode: any;\n\n  myForm: FormGroup;\n\n  public browerType: string;\n  public osType: string;\n  public uuid: string;\n  public language: string;\n  constructor(\n    public navCtrl: NavController,\n    public toastCtrl: ToastController,\n    public navParams: NavParams,\n    private builder: FormBuilder,\n    private AuthentionService: AuthentionServiceProvider,\n    private loading: LoadingController,\n    public translate: TranslateService,\n    public app: MyApp,\n    private device: Device\n  ) {\n    this.myForm = this.builder.group({\n      // 'username': ['', [Validators.required, Validators.minLength(11), Validators.pattern('^01[0-2]{1}[0-9]{8}$')]],\n      phonenumber: [\"\", Validators.compose([Validators.required])],\n\n      password: [\"\", Validators.required],\n      countryphoneCode: [\"\", Validators.required]\n    });\n    this.translate.get([\"pleaseWait\"]).subscribe(res => {\n      this.pleaseWait = res.pleaseWait;\n    });\n\n    this.browerType = this.device.manufacturer + \" / \" + this.device.model;\n    this.osType = this.device.platform + \" - \" + this.device.version;\n    this.uuid = this.device.uuid;\n\n    this.language = localStorage.getItem(\"lang\");\n    // console.log(this.language);\n\n    // let idnumber = JSON.parse(localStorage.getItem(\"nationalId\"));\n\n    // console.log(\"ddddd   fffff   \", idnumber);\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad LoginPage\");\n    let loading = this.loading.create({\n      content: this.pleaseWait\n    });\n    loading.present();\n    this.AuthentionService.getcountriesphpicklistcodes().subscribe(\n      data => {\n        // console.log(data);\n        this.getcountriescodes = data;\n        this.countryPhoneCode = this.getcountriescodes[0];\n        loading.dismiss();\n      },\n      error => {\n        loading.dismiss();\n      }\n    );\n  }\n\n  ionViewWillEnter() {\n    this.passwordTypeStyle = \"password\";\n  }\n\n  ChangePasswordStyle(PasswordStyle) {\n    if (PasswordStyle === \"text\") {\n      this.passwordTypeStyle = \"text\";\n    } else if (PasswordStyle === \"password\") {\n      this.passwordTypeStyle = \"password\";\n    }\n  }\n\n  openPage(pageName) {\n    this.navCtrl.push(pageName);\n  }\n\n  login() {\n    //////////////////////////////// in side /////////////////////////////////////////////////\n    let lang = localStorage.getItem(\"lang\");\n    if (lang == \"english\") {\n      lang = \"English\";\n    } else {\n      lang = \"Arabic\";\n    }\n    let loading = this.loading.create({\n      content: this.pleaseWait\n    });\n    loading.present();\n    this.AuthentionService.userLogin(\n      this.phoneNumber,\n      this.Password,\n      lang,\n      this.countryPhoneCode,\n      this.browerType,\n      this.osType,\n      this.uuid\n    ).subscribe(\n      data => {\n        sessionData.saveDataInLocalStorage(data);\n        // console.log(\"ddddd\", data.userDetails.picture_url);\n        this.app.userData.is_log = true;\n        if (data.userDetails.picture_url != null) {\n          this.app.ImageURL = settings.imageUrl + data.userDetails.picture_url;\n        } else {\n          this.app.ImageURL = null;\n        }\n        this.navCtrl.setRoot(\"HomePage\");\n        loading.dismiss();\n      },\n      error => {\n        // console.log(JSON.parse(error._body));\n\n        // Username or Password incorrect\n        if (JSON.parse(error._body).errorCode == \"4001\") {\n          this.presentToast(JSON.parse(error._body).message);\n        } else if (JSON.parse(error._body).errorCode == \"4000\") {\n          // this.presentToast(JSON.parse(error._body).message);\n          // let idnumber = localStorage.getItem(\"nationalId\");\n          sessionData.singinSaveData(\n            this.phoneNumber,\n            this.Password,\n            this.countryPhoneCode\n          );\n          this.navCtrl.setRoot(\"VerifyPage\");\n        } else if (JSON.parse(error._body).errorCode == \"4005\") {\n          this.presentToast(JSON.parse(error._body).message);\n        } else if (JSON.parse(error._body).errorCode == \"4002\") {\n          this.presentToast(JSON.parse(error._body).message);\n        }\n        loading.dismiss();\n      }\n    );\n  }\n  private presentToast(text) {\n    let toast = this.toastCtrl.create({\n      message: text,\n      duration: 3000,\n      cssClass: \"ErrorToast\"\n    });\n    toast.present();\n  }\n\n  hasError(field: string, error: string) {\n    const ctrl = this.myForm.get(field);\n    return ctrl.dirty && ctrl.hasError(error);\n  }\n\n  changeLang(lang) {\n    let langLocal = localStorage.getItem(\"lang\");\n    if (langLocal != lang) {\n      this.language = langLocal;\n\n      if (lang == \"english\") {\n        this.translate.use(\"english\");\n      } else {\n        this.translate.use(\"arabic\");\n      }\n\n      localStorage.setItem(\"lang\", lang);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}