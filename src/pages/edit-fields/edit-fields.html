<ion-header>
  <ion-navbar>
    <ion-title>{{'EditData' | translate}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>


  <form [formGroup]="editForm" *ngIf="flag">

    <!-- edit fullName-->
    <div *ngIf="flag">
      <ion-list class="changeImg">
        <ion-item>
          <ion-thumbnail item-start>

            <img *ngIf="path != ''" src="{{path}}">
            <img *ngIf="path == ''" src="./assets/imgs/editUserImg.png">
          </ion-thumbnail>
          <button ion-button outline (click)="presentActionSheet()">{{'select' | translate}}</button>

          <!-- <button ion-button outline (click)="uploadImage()">{{ 'uploadPhoto' | translate }} </button> -->
        </ion-item>
      </ion-list>

      <!-- <ion-item>
        <ion-label floating>{{'FullName' | translate}}</ion-label>
        <ion-input type="text" formControlName="fullname" [(ngModel)]="Fullname" required></ion-input>
      </ion-item> -->
    </div>
  </form>
  <form [formGroup]="editFormPass" *ngIf="!flag">

    <!-- edit password -->
    <div *ngIf="!flag">
      <ion-item>
        <ion-label floating>{{'InsertOldPassword' | translate}}</ion-label>
        <ion-input type="password" formControlName="oldpass" [(ngModel)]="Oldpass" required></ion-input>
      </ion-item>
      <p class="validationHint" *ngIf="hasError('oldpass', 'required')">{{ 'require' | translate }}</p>

      <ion-item>
        <ion-label floating>{{'InsertNewPassword' | translate}}</ion-label>
        <ion-input type="password" formControlName="newpass" [(ngModel)]="Newpass" required></ion-input>
      </ion-item>
      <p class="validationHint" *ngIf="hasError('newpass', 'required')">{{ 'require' | translate }}</p>

      <ion-item>
        <ion-label floating>{{'ConfirmeNewPassword' | translate}}</ion-label>
        <ion-input type="password" formControlName="confirmnewpass" [(ngModel)]="Confirmnewpass" required></ion-input>
      </ion-item>
      <p class="validationHint" *ngIf="hasError('confirmnewpass', 'required')">{{ 'require' | translate }}</p>

    </div>
  </form>
</ion-content>

<!-- update Btns-->
<ion-footer no-shadow>
  <ion-grid no-padding>
    <ion-row>
      <ion-col col-6>
        <button ion-button full class="updateBtn" *ngIf="flag" [disabled]="imageValue == '' || correctPath=='' || picname==''"
          (click)="changeProfileImage()">
          {{'Button_Save' | translate}}
        </button>
        <button ion-button full class="updateBtn" *ngIf="!flag" [disabled]="!editFormPass.valid ||(editFormPass.value.newpass !== editFormPass.value.confirmnewpass) "
          (click)="changePass()">
          {{'ChangePassword' | translate}}
        </button>
      </ion-col>
      <ion-col col-6>
        <button ion-button full outline class="cancelBtn" (click)="openSettingPage()">
          {{'Button_Cancle' | translate}}
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>
